---
title: 报错注入详解
date: {{ date }}
top: false
cover: false
password:
toc: true
mathjax: true
summary:
tags: SQL注入
categories: SQL注入
---

## 基于floor()的报错SQL语句

```sql
select count(*),(concat(floor(rand(0)*2),(select version())))x from user group by x;
```

- floor()函数

  floor函数的作用是返回小于等于该值的最大整数,也可以理解为向下取整，只保留整数部分。

- rand()函数

  rand()函数可以用来生成0-1之间的随机数,但是rand(0)相当于给了rand()函数一个随机种子0,rand()生成的数字是随机的,而rand(0)是有规律的生成

  rand()效果

  ![image-20210524170954639](https://gitee.com/h1ler/blogimage/raw/master/img/image-20210524170954639.png)

  rand(0)效果

  ![image-20210524171023410](https://gitee.com/h1ler/blogimage/raw/master/img/image-20210524171023410.png)

  利用rand(0)伪随机生成数字是有规律可循的,这也是采用rand(0)进行报错注入的原因,rand(0)是稳定的,而rand()则需要碰运气

- floor(rand(0)*2)

  rand()是返回0-1之间的随机数,则乘2后返回0-2之间的随机数,再配合floor()就可以产生0、1两个确定的数，大概产生的伪随机数序列为011011...

- 报错原理

  > 参考
  >
  > https://www.cnblogs.com/litlife/p/8472323.html

